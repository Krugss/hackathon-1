<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ìµœì ëŒ€ì‹œë³´ë“œ - ëŸ°ë‹í¬ì¸íŠ¸</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // ì¹´ì¹´ì˜¤ ë§µ API ë™ì  ë¡œë“œ í•¨ìˆ˜
        const loadKakaoMap = () => {
            return new Promise((resolve, reject) => {
                if (window.kakao && window.kakao.maps) {
                    console.log('âœ… ì¹´ì¹´ì˜¤ ë§µì´ ì´ë¯¸ ë¡œë“œë¨');
                    resolve();
                    return;
                }

                const script = document.createElement('script');
                script.src = 'https://dapi.kakao.com/v2/maps/sdk.js?appkey=6d1ccd4024313b8160755651625dd7ba&libraries=services,clusterer,drawing';
                script.type = 'text/javascript';
                
                script.onload = () => {
                    console.log('âœ… ì¹´ì¹´ì˜¤ ë§µ API ë¡œë“œ ì™„ë£Œ');
                    setTimeout(() => {
                        if (window.kakao && window.kakao.maps) {
                            resolve();
                        } else {
                            reject(new Error('ì¹´ì¹´ì˜¤ ë§µ SDK ì´ˆê¸°í™” ì‹¤íŒ¨'));
                        }
                    }, 100);
                };
                
                script.onerror = () => {
                    console.error('âŒ ì¹´ì¹´ì˜¤ ë§µ API ë¡œë“œ ì‹¤íŒ¨');
                    reject(new Error('ì¹´ì¹´ì˜¤ ë§µ API ë¡œë“œ ì‹¤íŒ¨'));
                };
                
                document.head.appendChild(script);
            });
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¹´ì¹´ì˜¤ ë§µ ë¯¸ë¦¬ ë¡œë“œ
        window.addEventListener('load', () => {
            loadKakaoMap()
                .then(() => console.log('ğŸ—ºï¸ ì¹´ì¹´ì˜¤ ë§µ ì¤€ë¹„ ì™„ë£Œ'))
                .catch(err => console.error('ğŸ—ºï¸ ì¹´ì¹´ì˜¤ ë§µ ë¡œë“œ ì—ëŸ¬:', err));
        });

        const { useState, useEffect } = React;

        // API ê¸°ë³¸ URL
        const API_BASE_URL = 'http://localhost:8082/api';

        // íƒ€ê²Ÿ ì•„ì´ì½˜
        const TargetIcon = ({ className, style }) => (
            <svg className={className} style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10" />
                <circle cx="12" cy="12" r="6" />
                <circle cx="12" cy="12" r="2" />
            </svg>
        );

        // ë¡œê·¸ì•„ì›ƒ ì•„ì´ì½˜
        const LogoutIcon = ({ className, style, onClick }) => (
            <svg className={className} style={style} onClick={onClick} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" style={{ cursor: 'pointer' }}>
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16 17 21 12 16 7" />
                <line x1="21" y1="12" x2="9" y2="12" />
            </svg>
        );

        function OrganizerDashboard() {
            const [username, setUsername] = useState('');
            const [userType, setUserType] = useState('');
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState('');
            const [activeTab, setActiveTab] = useState('dashboard');
            const [marathons, setMarathons] = useState([]);
            const [recommendedRoutes, setRecommendedRoutes] = useState([]);
            
            // ìƒˆ ë§ˆë¼í†¤ ìƒì„± í¼
            const [newMarathon, setNewMarathon] = useState({
                eventName: '',
                theme: '',
                desiredDistance: '',
                startLocation: '',
                endLocation: '',
                startLat: '',
                startLng: '',
                endLat: '',
                endLng: ''
            });
            
            const [showRouteModal, setShowRouteModal] = useState(false);
            const [routeLoading, setRouteLoading] = useState(false);

            useEffect(() => {
                // ğŸ” í† í° í™•ì¸ - ë¡œê·¸ì¸ í•„ìˆ˜
                const checkAuth = async () => {
                    const token = localStorage.getItem('accessToken');
                    const storedUsername = localStorage.getItem('username');
                    const storedUserType = localStorage.getItem('userType');
                    const organizerId = localStorage.getItem('userId') || '1';

                    console.log('ğŸ” í† í° í™•ì¸:', token ? 'âœ… ìˆìŒ' : 'âŒ ì—†ìŒ');
                    console.log('ğŸ“ ì‚¬ìš©ìëª…:', storedUsername ? 'âœ… ìˆìŒ' : 'âŒ ì—†ìŒ');

                    if (!token || !storedUsername) {
                        console.warn('âš ï¸ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™...');
                        setError('ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
                        
                        // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì •ë¦¬
                        localStorage.removeItem('accessToken');
                        localStorage.removeItem('tokenType');
                        localStorage.removeItem('username');
                        localStorage.removeItem('userType');
                        localStorage.removeItem('userId');
                        
                        // ì¦‰ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                        setTimeout(() => {
                            window.location.href = 'login.html';
                        }, 100);
                        
                        return;
                    }

                    // âœ… í† í°ì´ ìˆìœ¼ë©´ ë°ì´í„° ë¡œë“œ
                    console.log('âœ… ì‚¬ìš©ì:', storedUsername);
                    setUsername(storedUsername || 'Unknown');
                    setUserType(storedUserType || 'organizer');
                    await loadMarathons(organizerId);
                    setLoading(false);
                };
                
                checkAuth();
            }, []);

            // ë§ˆë¼í†¤ ë¡œë“œ
            const loadMarathons = async (organizerId) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/organizer/marathons`);
                    const data = await response.json();
                    if (data.success) {
                        setMarathons(data.data);
                    }
                } catch (err) {
                    console.error('ë§ˆë¼í†¤ ë¡œë“œ ì‹¤íŒ¨:', err);
                }
            };

            // ë§ˆë¼í†¤ ìƒì„±
            const createMarathon = async () => {
                if (!newMarathon.eventName || !newMarathon.desiredDistance || !newMarathon.startLocation || !newMarathon.endLocation) {
                    alert('í•„ìˆ˜ í•„ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
                    return;
                }

                try {
                    const response = await fetch(`${API_BASE_URL}/organizer/marathons`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Organizer-Id': localStorage.getItem('organizerId') || '1'
                        },
                        body: JSON.stringify({
                            eventName: newMarathon.eventName,
                            theme: newMarathon.theme,
                            desiredDistance: parseFloat(newMarathon.desiredDistance),
                            startLocation: newMarathon.startLocation,
                            endLocation: newMarathon.endLocation,
                            startLat: parseFloat(newMarathon.startLat) || 37.5665,
                            startLng: parseFloat(newMarathon.startLng) || 126.9780,
                            endLat: parseFloat(newMarathon.endLat) || 37.4979,
                            endLng: parseFloat(newMarathon.endLng) || 127.0276
                        })
                    });
                    const data = await response.json();
                    if (data.success) {
                        alert('ë§ˆë¼í†¤ ì´ë²¤íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
                        setNewMarathon({
                            eventName: '',
                            theme: '',
                            desiredDistance: '',
                            startLocation: '',
                            endLocation: '',
                            startLat: '',
                            startLng: '',
                            endLat: '',
                            endLng: ''
                        });
                        loadMarathons(localStorage.getItem('organizerId') || '1');
                    } else {
                        alert('ìƒì„± ì‹¤íŒ¨: ' + (data.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'));
                    }
                } catch (err) {
                    alert('ì˜¤ë¥˜: ' + err.message);
                }
            };

            // ìµœì  ê²½ë¡œ ìƒì„± (Gemini API ì‚¬ìš©)
            const generateOptimalRoutes = async (marathon) => {
                setRouteLoading(true);
                try {
                    const response = await fetch(
                        `${API_BASE_URL}/courses/recommend?theme=${encodeURIComponent(marathon.theme)}&distance=${marathon.desiredDistance}&startLocation=${encodeURIComponent(marathon.startLocation)}&endLocation=${encodeURIComponent(marathon.endLocation)}&difficulty=ì¤‘ê¸‰`
                    );
                    const data = await response.json();
                    
                    if (data.success && data.data && data.data.length > 0) {
                        // Gemini APIì—ì„œ ë°›ì€ ë°ì´í„°ë¥¼ í™”ë©´ì— ë§ê²Œ í¬ë§·
                        const formattedRoutes = data.data.map((route, idx) => ({
                            rank: idx + 1,
                            name: route.name || `${marathon.theme} ì¶”ì²œ ì½”ìŠ¤ ${idx + 1}`,
                            description: route.description || `${marathon.theme} í…Œë§ˆì˜ ${route.distance}km ì½”ìŠ¤`,
                            distance: route.distance || marathon.desiredDistance,
                            estimatedTime: route.estimatedTime || `${Math.round(route.distance / 10 * 60)}ë¶„`,
                            elevationGain: route.elevationGain || 0,
                            safetyScore: route.safetyScore || 8,
                            landmarks: route.landmarks || []
                        }));
                        
                        setRecommendedRoutes(formattedRoutes);
                        setShowRouteModal(true);
                    } else {
                        alert('ì½”ìŠ¤ ì¶”ì²œ ì‹¤íŒ¨: ' + (data.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'));
                    }
                } catch (err) {
                    console.error('Gemini API ì˜¤ë¥˜:', err);
                    alert('ì½”ìŠ¤ ì¶”ì²œ ì¤‘ ì˜¤ë¥˜: ' + err.message);
                } finally {
                    setRouteLoading(false);
                }
            };

            const handleLogout = () => {
                localStorage.removeItem('accessToken');
                localStorage.removeItem('tokenType');
                localStorage.removeItem('userType');
                localStorage.removeItem('username');
                window.location.href = 'login.html';
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gradient-to-b from-yellow-50 via-amber-50 to-orange-100 flex items-center justify-center">
                        <div className="text-center">
                            <TargetIcon className="w-16 h-16 mx-auto mb-4 animate-bounce" style={{ color: '#8B5A3C' }} />
                            <p style={{ color: '#6B4423' }}>ë¡œë”© ì¤‘...</p>
                        </div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className="min-h-screen bg-gradient-to-b from-yellow-50 via-amber-50 to-orange-100 flex items-center justify-center">
                        <div className="text-center">
                            <p className="text-red-600">{error}</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-b from-yellow-50 via-amber-50 to-orange-100">
                    {/* í—¤ë” */}
                    <header className="bg-white/40 backdrop-blur-md shadow-lg" style={{ borderBottom: '2px solid #6B4423' }}>
                        <div className="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <TargetIcon className="w-8 h-8" style={{ color: '#6B4423' }} />
                                <h1 className="text-2xl font-bold" style={{ color: '#6B4423' }}>ì£¼ìµœì ëŒ€ì‹œë³´ë“œ</h1>
                            </div>
                            <div className="flex items-center gap-4">
                                <div className="text-center">
                                    <p className="text-sm" style={{ color: '#8B5A3C' }}>í™˜ì˜í•©ë‹ˆë‹¤</p>
                                    <p className="font-semibold" style={{ color: '#6B4423' }}>{username}</p>
                                </div>
                                <button
                                    onClick={handleLogout}
                                    className="p-2 rounded-full hover:bg-orange-200 transition-colors"
                                    title="ë¡œê·¸ì•„ì›ƒ"
                                >
                                    <LogoutIcon className="w-6 h-6" style={{ color: '#6B4423' }} />
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
                    <div className="bg-white/50 backdrop-blur-md sticky top-0 z-10" style={{ borderBottom: '2px solid #D2B48C' }}>
                        <div className="max-w-6xl mx-auto px-6 flex gap-4 py-4">
                            {['dashboard', 'create', 'marathons'].map(tab => (
                                <button
                                    key={tab}
                                    onClick={() => setActiveTab(tab)}
                                    className={`px-6 py-2 rounded-full font-semibold transition-all ${
                                        activeTab === tab
                                            ? 'text-white shadow-lg'
                                            : 'text-gray-700 hover:bg-orange-100'
                                    }`}
                                    style={activeTab === tab ? { backgroundColor: '#6B4423' } : {}}
                                >
                                    {tab === 'dashboard' && 'ğŸ“Š ëŒ€ì‹œë³´ë“œ'}
                                    {tab === 'create' && 'â• ì´ë²¤íŠ¸ ìƒì„±'}
                                    {tab === 'marathons' && 'ğŸƒ ë§ˆë¼í†¤ ëª©ë¡'}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* ë©”ì¸ ì½˜í…ì¸  */}
                    <main className="max-w-6xl mx-auto px-6 py-16">
                        {/* ëŒ€ì‹œë³´ë“œ íƒ­ */}
                        {activeTab === 'dashboard' && (
                            <div>
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                    <div className="bg-white/70 backdrop-blur-sm rounded-3xl p-8 shadow-xl" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                        <div className="text-4xl mb-4">ğŸ¯</div>
                                        <h3 className="text-lg font-semibold mb-2" style={{ color: '#6B4423' }}>ì§„í–‰ ì¤‘ì¸ ì´ë²¤íŠ¸</h3>
                                        <p className="text-3xl font-bold" style={{ color: '#8B5A3C' }}>{marathons.filter(m => m.status === 'ì§„í–‰ ì¤‘').length}</p>
                                    </div>
                                    <div className="bg-white/70 backdrop-blur-sm rounded-3xl p-8 shadow-xl" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                        <div className="text-4xl mb-4">ğŸ“‹</div>
                                        <h3 className="text-lg font-semibold mb-2" style={{ color: '#6B4423' }}>ì´ ì´ë²¤íŠ¸</h3>
                                        <p className="text-3xl font-bold" style={{ color: '#8B5A3C' }}>{marathons.length}</p>
                                    </div>
                                    <div className="bg-white/70 backdrop-blur-sm rounded-3xl p-8 shadow-xl" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                        <div className="text-4xl mb-4">âš¡</div>
                                        <h3 className="text-lg font-semibold mb-2" style={{ color: '#6B4423' }}>AI ê²½ë¡œ</h3>
                                        <p className="text-3xl font-bold" style={{ color: '#8B5A3C' }}>ì¤€ë¹„ë¨</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* ì´ë²¤íŠ¸ ìƒì„± íƒ­ */}
                        {activeTab === 'create' && (
                            <div className="bg-white/70 backdrop-blur-sm rounded-3xl p-10 shadow-2xl" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                <h2 className="text-2xl font-bold mb-8" style={{ color: '#6B4423' }}>ğŸ¯ ìƒˆ ë§ˆë¼í†¤ ì´ë²¤íŠ¸ ìƒì„±</h2>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>ì´ë²¤íŠ¸ëª… *</label>
                                        <input
                                            type="text"
                                            value={newMarathon.eventName}
                                            onChange={(e) => setNewMarathon({...newMarathon, eventName: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                            placeholder="ì˜ˆ: ì„œìš¸ ë§ˆë¼í†¤ 2025"
                                        />
                                    </div>
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>í…Œë§ˆ</label>
                                        <select
                                            value={newMarathon.theme}
                                            onChange={(e) => setNewMarathon({...newMarathon, theme: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                        >
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="ë„ì‹œ ë§ˆë¼í†¤">ë„ì‹œ ë§ˆë¼í†¤</option>
                                            <option value="ìì—°ê²½ê´€">ìì—°ê²½ê´€</option>
                                            <option value="ê³µì›">ê³µì›</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>í¬ë§ ê±°ë¦¬ (km) *</label>
                                        <input
                                            type="number"
                                            step="0.1"
                                            value={newMarathon.desiredDistance}
                                            onChange={(e) => setNewMarathon({...newMarathon, desiredDistance: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                            placeholder="ì˜ˆ: 42.195"
                                        />
                                    </div>
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>ì¶œë°œì§€ *</label>
                                        <input
                                            type="text"
                                            value={newMarathon.startLocation}
                                            onChange={(e) => setNewMarathon({...newMarathon, startLocation: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                            placeholder="ì˜ˆ: ì˜¬ë¦¼í”½ ê³µì›"
                                        />
                                    </div>
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>ë„ì°©ì§€ *</label>
                                        <input
                                            type="text"
                                            value={newMarathon.endLocation}
                                            onChange={(e) => setNewMarathon({...newMarathon, endLocation: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                            placeholder="ì˜ˆ: í•œê°•ê³µì›"
                                        />
                                    </div>
                                    <div>
                                        <label className="block mb-2" style={{ color: '#6B4423' }}>ìœ„ë„ (ì„ íƒì‚¬í•­)</label>
                                        <input
                                            type="number"
                                            step="0.0001"
                                            value={newMarathon.startLat}
                                            onChange={(e) => setNewMarathon({...newMarathon, startLat: e.target.value})}
                                            className="w-full px-4 py-3 rounded-lg border-2"
                                            style={{ borderColor: '#D2B48C' }}
                                            placeholder="ì˜ˆ: 37.5165"
                                        />
                                    </div>
                                </div>

                                <button
                                    onClick={createMarathon}
                                    className="w-full mt-8 py-4 px-6 rounded-full text-white font-semibold transition-all shadow-lg hover:shadow-xl"
                                    style={{ backgroundColor: '#6B4423' }}
                                >
                                    âœ¨ ì´ë²¤íŠ¸ ìƒì„± & ê²½ë¡œ ìƒì„±
                                </button>
                            </div>
                        )}

                        {/* ë§ˆë¼í†¤ ëª©ë¡ íƒ­ */}
                        {activeTab === 'marathons' && (
                            <div>
                                <h2 className="text-2xl font-bold mb-8" style={{ color: '#6B4423' }}>ğŸƒ ë§ˆë¼í†¤ ì´ë²¤íŠ¸ ({marathons.length})</h2>
                                {marathons.length === 0 ? (
                                    <div className="bg-white/70 backdrop-blur-sm rounded-3xl p-10 text-center" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                        <p style={{ color: '#8B5A3C' }}>ì•„ì§ ìƒì„±ëœ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                                    </div>
                                ) : (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        {marathons.map(marathon => (
                                            <div key={marathon.id} className="bg-white/70 backdrop-blur-sm rounded-3xl p-6 shadow-xl" style={{ borderWidth: '2px', borderColor: '#D2B48C' }}>
                                                <h3 className="text-xl font-bold mb-3" style={{ color: '#6B4423' }}>{marathon.eventName}</h3>
                                                <p style={{ color: '#8B5A3C' }} className="mb-2">ğŸ“ {marathon.theme} | ê±°ë¦¬: {marathon.desiredDistance}km</p>
                                                <p style={{ color: '#8B5A3C' }} className="mb-4">ì¶œë°œ: {marathon.startLocation} â†’ ë„ì°©: {marathon.endLocation}</p>
                                                <button
                                                    onClick={() => generateOptimalRoutes(marathon)}
                                                    disabled={routeLoading}
                                                    className="w-full py-2 px-4 rounded-lg text-white font-semibold transition-all disabled:opacity-50"
                                                    style={{ backgroundColor: '#6B4423' }}
                                                >
                                                    {routeLoading ? 'ìƒì„± ì¤‘...' : 'ğŸ¤– ìµœì  ê²½ë¡œ ìƒì„±'}
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}
                    </main>

                    {/* ê²½ë¡œ ìƒì„± ê²°ê³¼ ëª¨ë‹¬ */}
                    {showRouteModal && (
                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] shadow-2xl flex flex-col">
                                {/* âœ… ê³ ì •ëœ í—¤ë” */}
                                <div className="sticky top-0 bg-white rounded-t-3xl p-8 border-b-2" style={{ borderColor: '#D2B48C', zIndex: 10 }}>
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-2xl font-bold" style={{ color: '#6B4423' }}>ğŸ¤– ì¶”ì²œ ê²½ë¡œ (ìƒìœ„ 3ê°œ)</h2>
                                        <button
                                            onClick={() => setShowRouteModal(false)}
                                            className="text-2xl font-bold hover:bg-orange-50 p-2 rounded-lg transition-all"
                                            style={{ color: '#8B5A3C' }}
                                        >
                                            âœ•
                                        </button>
                                    </div>
                                </div>
                                {/* âœ… ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì½˜í…ì¸  */}
                                <div className="overflow-y-auto p-8 flex-1">
                                
                                {/* ë²•ì  ì•ˆë‚´ */}
                                <div className="bg-yellow-100 border-l-4 border-yellow-600 p-4 mb-6 rounded">
                                    <p className="text-sm font-semibold" style={{ color: '#854D0E' }}>
                                        âš ï¸ ì¤‘ìš” ì•ˆë‚´
                                    </p>
                                    <p className="text-sm mt-2" style={{ color: '#854D0E' }}>
                                        ë³¸ ì¶”ì²œ ê²½ë¡œëŠ” ì°¸ê³  ì •ë³´ì¼ ë¿ì…ë‹ˆë‹¤. ì‹¤ì œ ë§ˆë¼í†¤ ê°œìµœ ì‹œ í—ˆê°€Â·í†µì œëŠ” ì£¼ìµœì¸¡ì—ì„œ ë³„ë„ë¡œ ì§„í–‰í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.
                                    </p>
                                </div>

                                {recommendedRoutes.length === 0 ? (
                                    <p style={{ color: '#8B5A3C' }} className="text-center py-4">ê²½ë¡œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                                ) : (
                                    <div className="space-y-4">
                                        {recommendedRoutes.map((route, idx) => (
                                            <div
                                                key={idx}
                                                className="p-4 rounded-lg border-2"
                                                style={{ borderColor: '#D2B48C' }}
                                            >
                                                <h3 className="font-bold text-lg mb-2" style={{ color: '#6B4423' }}>
                                                    #{route.rank} {route.name}
                                                </h3>
                                                <p className="text-sm mb-2" style={{ color: '#8B5A3C' }}>
                                                    {route.description}
                                                </p>
                                                <div className="grid grid-cols-2 gap-2 text-xs" style={{ color: '#8B5A3C' }}>
                                                    <div>ğŸ“ ê±°ë¦¬: {route.distance}km</div>
                                                    <div>â±ï¸ ì˜ˆìƒì‹œê°„: {route.estimatedTime}</div>
                                                    <div>â›°ï¸ ê³ ë„ì°¨: {route.elevationGain}m</div>
                                                    <div>ğŸ›¡ï¸ ì•ˆì „ë„: {route.safetyScore}/10</div>
                                                </div>
                                                {route.landmarks && route.landmarks.length > 0 && (
                                                    <p className="text-xs mt-2" style={{ color: '#8B5A3C' }}>
                                                        ğŸ›ï¸ ì£¼ìš”ì§€ì : {route.landmarks.join(', ')}
                                                    </p>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                )}
                                </div>

                                {/* âœ… ê³ ì •ëœ í•˜ë‹¨ ë²„íŠ¼ */}
                                <div className="sticky bottom-0 bg-white p-8 border-t-2" style={{ borderColor: '#D2B48C', zIndex: 10 }}>
                                    <button
                                        onClick={() => setShowRouteModal(false)}
                                        className="w-full py-3 px-6 rounded-full text-white font-semibold transition-all hover:shadow-lg"
                                        style={{ backgroundColor: '#6B4423' }}
                                    >
                                        ë‹«ê¸°
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* í‘¸í„° */}
                    <footer className="mt-20 py-8 text-center bg-white/40" style={{ color: '#8B5A3C', borderTop: '2px solid #D2B48C' }}>
                        <p className="text-sm">Â© 2025 ëŸ°ë‹í¬ì¸íŠ¸. All rights reserved.</p>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<OrganizerDashboard />, document.getElementById('root'));
    </script>
</body>
</html>
